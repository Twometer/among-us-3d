<html>
<head>
    <link rel="stylesheet" href="styles/taskBase.css">
    <style>*{-webkit-user-select:none;-webkit-user-drag:none;cursor:default}body,html{margin:0;padding:0;overflow:hidden}.d-none{display:none}.ctr{top:50%;left:50%;transform:translate(-50%,-50%)}.ctrx{left:50%;transform:translateX(-50%)}.ctry{top:50%;transform:translateY(-50%)}.container{position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}.o0{opacity:0}.clickthru{pointer-events:none}.abs{position:absolute}.ani05{transition:.5s all}.ani1{transition:1s all}.z1{z-index:1}.z2{z-index:2}.z3{z-index:3}.z4{z-index:4}.z5{z-index:5}</style>
</head>
<body>

<div class="container">
    <img class="background abs" src="img/nav_stabilize_base.png">
    <img class="abs ctr" src="img/nav_stabilize_graph.png">
    <img class="abs" id="target" src="img/nav_stabilize_target.png" t="60" l="25">
    <img class="abs" src="img/nav_stabilize_base.png">
</div>


</body>
<script src="scripts/base.js"></script>
<script>
var target = $('target');
var rand = Math.random() * 2 * Math.PI;

var x = Math.sin(rand) * 180 * (Math.random() + 0.25);
var y = Math.cos(rand) * 180 * (Math.random() + 0.25);
var cx = _baseW / 2;
var cy = _baseH / 2;

function setPos(x, y) {
    target.style.left = x - target.offsetWidth/2;
    target.style.top = y - target.offsetHeight/2;
}

setPos(cx+x,cy+y);

document.onclick = function(e) {
    var x = e.clientX / 1.5 - _baseX;
    var y = (e.clientY / 1.5 - _baseY);
    setPos(x,y);

    var dx = x - cx;
    var dy = y - cy;
    var distToCenter = Math.sqrt(dx*dx+dy*dy);
    if (distToCenter < 15) {
        setPos(cx,cy);
        _remote.taskComplete();
    }
}
</script>
</html>