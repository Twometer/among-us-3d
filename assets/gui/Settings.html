<html>
<head>
    <link rel="stylesheet" href="styles/generic.css">
    <link rel="stylesheet" href="styles/settings.css">
</head>
<body>
    <h1>Settings</h1>
    <div class="container">
        <table>
            <tr>
                <th>Master volume</th>
                <td><input type="range" min="0" max="99" value="75" class="slider" id="volume"></td>
            </tr>
            <tr>
                <th>FPS limit</th>
                <td><input type="range" min="0" max="120" value="60" class="slider" id="maxFps"></td>
            </tr>
            <tr>
                <th>Ambient Occlusion</th>
                <td><input type="checkbox" id="aoActive"/></td>
            </tr>
            <tr>
                <th>Bloom</th>
                <td><input type="checkbox" id="bloomActive"/></td>
            </tr>
            <tr>
                <th>Reflections</th>
                <td><input type="checkbox" id="ssrActive"/></td>
            </tr>
            <tr>
                <th>Anti Aliasing</th>
                <td><input type="checkbox" id="fxaaActive"/></td>
            </tr>
            <tr>
                <th>Vignette</th>
                <td><input type="checkbox" id="vignetteActive"/></td>
            </tr>
            <tr>
                <th>Light render distance</th>
                <td><input type="range" min="0" max="50" value="35" class="slider" id="lightRenderDist"></td>
            </tr>
        </table>

        <div class="button-panel">
            <button onclick="apply()">Apply</button>
            <button onclick="_remote.close()">Cancel</button>
        </div>

    </div>
</body>
<script>
    var volume = document.getElementById('volume');
    var maxFps = document.getElementById('maxFps');
    var aoActive = document.getElementById('aoActive');
    var bloomActive = document.getElementById('bloomActive');
    var ssrActive = document.getElementById('ssrActive');
    var fxaaActive = document.getElementById('fxaaActive');
    var vignetteActive = document.getElementById('vignetteActive');
    var lightRenderDist = document.getElementById('lightRenderDist');

    function set(s) {
        volume.value = s.volume;
        maxFps.value = s.maxFps;
        aoActive.checked = s.aoActive;
        bloomActive.checked = s.bloomActive;
        ssrActive.checked = s.ssrActive;
        fxaaActive.checked = s.fxaaActive;
        vignetteActive.checked = s.vignetteActive;
        lightRenderDist.value = s.lightRenderDist;
    }

    function apply() {
        var settings = {
            volume: volume.value,
            maxFps: maxFps.value,
            aoActive: aoActive.checked,
            bloomActive: bloomActive.checked,
            ssrActive: ssrActive.checked,
            fxaaActive: fxaaActive.checked,
            vignetteActive: vignetteActive.checked,
            lightRenderDist: lightRenderDist.value,
        }
        _remote.apply(JSON.stringify(settings));
    }
</script>
</html>